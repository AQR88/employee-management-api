# Employee Management API

API для управления информацией о сотрудниках компании. Приложение позволяет администраторам и сотрудникам взаимодействовать с системой в соответствии с их ролями.

## Оглавление

- [Технологии](#технологии)
- [Установка](#установка)
- [Настройка](#настройка)
- [Запуск приложения](#запуск-приложения)
- [Тестирование](#тестирование)
- [Документация API](#документация-api)
- [Деплой на сервере](#деплой-на-сервере)

## Технологии

- **Node.js**: Серверная платформа для запуска JavaScript.
- **Express**: Веб-фреймворк для Node.js.
- **Sequelize**: ORM для работы с базами данных.
- **PostgreSQL**: Реляционная база данных.
- **JWT**: Аутентификация с использованием JSON Web Tokens.
- **bcryptjs**: Хеширование паролей.
- **Express Validator**: Валидация входящих данных.
- **Winston**: Логирование.
- **Mocha** и **Chai**: Тестирование.
- **Swagger**: Генерация документации API.

## Установка

### Предварительные требования

- **Node.js** версии 14.x или выше.
- **npm** (устанавливается вместе с Node.js).
- **PostgreSQL** установленный и запущенный локально или доступ к удаленной базе данных.
- **Git** (опционально, для клонирования репозитория).

### Шаги установки

1. **Клонирование репозитория**

```sh {"id":"01J817182EA34R9K4BTB4R4BH2"}
   git clone https://github.com/your-username/employee-management-api.git
   cd employee-management-api
```

```sh {"id":"01J816YFP67PV3CXQ2ZCZ1YSJP"}
    npm install

```

## Настройка
### Конфигурация базы данных
Создайте базу данных PostgreSQL для приложения. Вы можете использовать psql или любой другой инструмент.

```sh {"id":"01J817AHXQVSJRPP1S236A3JTH"}
CREATE DATABASE employee_db;
CREATE USER your_db_user WITH PASSWORD 'your_db_password';
GRANT ALL PRIVILEGES ON DATABASE employee_db TO your_db_user;
```

### Переменные окружения
Создайте файл .env в корневой директории проекта и добавьте следующие переменные:

```sh {"id":"01J817BRAVB4TA7QNM1643ZK07"}
PORT=3000
JWT_SECRET=your_jwt_secret
DB_HOST=localhost
DB_PORT=5432
DB_NAME=employee_db
DB_USER=your_db_user
DB_PASSWORD=your_db_password
SECRET_WORD=your_secret_word_for_admin_registration
NODE_ENV=development
```

## Запуск приложения
### Запуск в режиме разработки
Используйте nodemon для автоматического перезапуска сервера при изменениях кода.

```sh {"id":"01J817F1YNF0FMSN2W6CNY6D0N"}
npm run dev
```

### Запуск в режиме производства

```sh {"id":"01J817G166BMT11THXKGF2DNEC"}
npm start
```

## Тестирование
### Приложение имеет набор юнит-тестов, которые находятся в папке tests.

Запуск тестов:

```sh {"id":"01J817HC69JTG88WWWEZMQJSYT"}
npm test
```

## Документация API
### Документация API автоматически генерируется с помощью Swagger и доступна по адресу:

```sh {"id":"01J817JB0EW4MC695KVCJD7KQG"}
http://localhost:3000/api-docs
```

## Деплой на сервере
Вы можете развернуть приложение на бесплатных хостингах, таких как Render.com или Railway.app.

### Деплой на Render.com
1. Создайте аккаунт на Render.com.
2. Свяжите репозиторий с вашим проектом на GitHub.
3. Создайте новый веб-сервис:
   - Выберите репозиторий.
   - Укажите команду запуска: npm start.
   - Настройте переменные окружения в разделе Environment.
4. Добавьте базу данных PostgreSQL в разделе Databases и обновите переменные окружения для подключения к ней.
5. Разверните приложение и дождитесь завершения деплоя.
